digital-banking-gateway:
  fullnameOverride: "dbg"

  image:
    registry: binaryrepo.azure.nbscloud.co.uk/daidigital-a995daidigital-docker-dev
    repository: digitalbankinggateway
    tag: <+stage.variables.image_tag>
    pullPolicy: Always

  serviceAccount:
    create: true
    enableKubernetesVaultAuth: true

  networkPolicy:
    ingress:
      default:
        config:
          - namespaceSelector:
              matchLabels:
                kubernetes.io/metadata.name: ingress-nginx
        ports:
          - 80
          - 443
    egress: {}

  envs:
    API_BASE_URL: aks-mvp-dbg.mc-digital.dev.azure.nbscloud.co.uk

  livenessProbe:
    httpGet:
      path: /health/alive
      port: 8080

  readinessProbe:
    httpGet:
      path: /health/alive
      port: 8080

  service:
    port: 80
    targetPort: 8080

  ingress:
    enabled: true
    className: nginx
    annotations:
      kubernetes.io/ingress.class: nginx

  autoscaling:
    enabled: true
    minReplicas: 3
    maxReplicas: 5
    targetCPUUtilizationPercentage: 80
    targetMemoryUtilizationPercentage: 80
